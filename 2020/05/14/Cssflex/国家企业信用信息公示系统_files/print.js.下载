(function(){
	function SaicObj(){}
	/**
	 * =initInfoItem	
	 * 初始化信息打印选择页面
	 * enttype  企业类型
	 * */
	SaicObj.prototype.initInfoItem=function(/*string*/enttype)
	{
		$.ajax({
			 type: 'post',
     	     url: "/corp-query-entprise-info-printByEnttype.html",
		     dataType: "json", 
		     "data":{"entType":enttype},
	        success:saicobj.getModuleByEnttypeCallback,
	        error: function(request) {	        	
	        	console.log("connect error!");
		    }
		    });		
	};
	/**
	 * =contains	
	 *包含数据
	 * */
	SaicObj.prototype.contains=function(/*string*/ item,/*array*/ arry)
	{
		var /*number*/ i  = -1,
			/*number*/ len  = -1,
			/*boolean*/ ret = false
		;
		if(item && "string" === typeof item
			&& arry && arry.length > 0)
		{
			len = arry.length;
			i = len -1;
			do
			{
				if(item === arry[i])
				{
					ret = true;
					break;
				}
			}
			while(--i >= 0);
		}
		return ret;
	};
	/**
	 * =selectAll	
	 *全选事件
	 * */
	SaicObj.prototype.selectAll=function(/*string*/ name,/*string*/ allid)
	{
		var /*object*/ _doc = document,
			/*object*/ temp = null,
			/*array*/ ele_a = null,
			/*number*/ i = -1,
			/*number*/ len = -1,
			/*boolean*/ ischeck = true 
		;
		if(name && "string" === typeof name 
				&& allid && "string" === typeof allid 
				)
		{
			ele_a = _doc.getElementsByName(name);
			len = ele_a.length;
			i = len -1;
			ischeck = _doc.getElementById(allid).checked;
			do
			{
				temp = ele_a[i];
				temp.checked = ischeck;
			}
			while(--i >= 0);
			temp = _doc.getElementById("print_all_1");
			temp.checked= ischeck;
			temp = _doc.getElementById("print_all_2");
			temp.checked= ischeck;			
		}//if(name && "string" === typeof name 
		/*object*/ _doc = null,
		/*object*/ temp = null,
		/*array*/ ele_a = null,
		/*number*/ i = -1,
		/*number*/ len = -1,
		/*boolean*/ ischeck = true 
		;
	};
	/**
	 * =substitute	
	 *替换字符串中的字段.
	 * */
	SaicObj.prototype.substitute=function(str,o,regexp)
	{
		  return  str.replace(regexp || /\\?\{([^{}]+)\}/g, function (match, name) {
		    return (o[name] === undefined) ? '' : o[name];
		  });
	};
	/**
	 * =selectItemAll	
	 *区域全选
	 * */
	SaicObj.prototype.selectItemAll=function(/*string*/ name ,
			/*string*/ type,/*string*/ allid)
	{
		var /*object*/ _doc = document,
		/*object*/ temp = null,
		/*array*/ ele_a = null,
		/*number*/ i = -1,
		/*number*/ len = -1,
		/*boolean*/ ischeck = true, 
		/*string*/ type2 = null,
		/*string*/ value = null
		;
		if(name && "string" === typeof name 
			&& type && "string" === typeof type 
			&& allid && "string" === typeof allid 
			)
		{
			temp= _doc.getElementById(allid);
			ischeck = temp.checked;
			ele_a = _doc.getElementsByName(name);
			len = ele_a.length;
			i = len -1;
			do
			{
				temp = ele_a[i];
				value = temp["value"];
				type2 = value.substring(0,1);
				if(type === type2)
				{
					temp.checked = ischeck;
				}				
			}
			while(--i >= 0);
		}
		/*object*/ _doc = null,
		/*object*/ temp = null,
		/*array*/ ele_a = null,
		/*number*/ i = -1,
		/*number*/ len = -1,
		/*boolean*/ ischeck = true ,
		/*string*/ type2 = null,
		/*string*/ value = null
		;
	};
	/**
	 * =closeInfoItem
	 * 关闭选择框
	 * */
	SaicObj.prototype.closeInfoItem=function()
	{
		var /*string*/ dispid="print_info",
			/*object*/ wrapper_obj=null
		;
		wrapper_obj = $("#"+dispid);
		wrapper_obj.removeClass("disp_b");
		wrapper_obj.addClass("disp_n");	
	};
	/**
	 * =checkSele
	 * 检查是否选择
	 * **/
	SaicObj.prototype.checkSele=function()
	{
		var /*boolean*/ ret = false,
			/*object*/ _doc=document,
			/*string*/ name = "print_item",
			/*array*/ items = null,
			/*object*/ temp = null,
			/*number*/ len = -1,
			/*number*/ i = -1
		;
		items = _doc.getElementsByName(name);
		if(items && "object" === typeof items)
		{
			len = items.length;
			i = len -1;
			do
			{
				temp = items[i];
				ret = temp.checked;
				if(ret)
				{
					break;
				}
			}
			while(--i>=0);
		}
		return ret;
	};
	/**
	 * =getModuleByEnttypeCallback
	 * 获取打印模块数据回调处理
	 * */
	SaicObj.prototype.getModuleByEnttypeCallback=function(/*object*/ resp)
	{
		//弹出页显示id
		var /*string*/ dispid = "print_info",
			//政府公示信息
			/*string*/ wrapper1="print_1_wrapper",
			/*object*/ wrapper_obj = null,
			/*array*/ info1  = [],
			//企业自主公式
			/*string*/ wrapper2="print_2_wrapper",
			/*array*/ info2 = [],
			//其他
			/*string*/ wrapper3="print_3_wrapper",
			/*array*/ info3 = [],
			//不显示的范围
			/*array*/ notscope =null,
			//是否全部显示
			/*boolean*/ isall =false,
			//显示模块总数
			/*array*/ scopedata = null,
			/*number*/ i = -1,
			/*number*/ len = -1,
			/*object*/ temp = null,
			/*string*/ value  = null,
			/*string*/ name = null,
			/*string*/ type = null,
			/*string*/ LETTER_GOV = "1",
			/*string*/ LETTER_COM = "2",
			/*string*/ LETTER_OTH = "3",
			/*string*/ temp_label3 = '<div style="width:100%;margin-bottom:0px;margin-top:5px;"><input id="modu_{codeValue}" type="checkbox" name="print_item" value="{codeValue}" />&nbsp;<label for="modu_{codeValue}" style="padding-bottom:3px;margin:0px;padding:0px;width:50%;">&nbsp;{codeName}</label></div>',
			/*string*/ temp_label = '<label style="width:33%;margin-bottom:0px;margin-top:5px;"><input id="modu_{codeValue}" type="checkbox" name="print_item" value="{codeValue}" /><span style="padding-bottom:3px;">&nbsp;{codeName}</span></label>',			
			/*boolean*/ iscon  = false,
			/*object*/ _doc = document,
			/*object*/ _o  = saicobj
		;	
		scopedata = resp["data"];
		len = scopedata.length;
		if(scopedata && len >0)
		{
			i = 0;
			do{
				temp = scopedata[i];
				value = temp["codeValue"];
				name = temp["codeName"];				
				type= value.substring(0,1);		
				switch(type)
				{
					case LETTER_GOV:
						label = _o.substitute(temp_label,temp);
						info1.push(label);
						break;
					case LETTER_COM:
						label = _o.substitute(temp_label,temp);
						info2.push(label);
						break;
					case LETTER_OTH:
						label = _o.substitute(temp_label3,temp);							
						info3.push(label);
						break;
					default:
				}
				iscon = true;
			}
			while(++i<len);
			wrapper_obj = _doc.getElementById(wrapper1);
			wrapper_obj.innerHTML=info1.join("");
			wrapper_obj = _doc.getElementById(wrapper2);
			wrapper_obj.innerHTML=info2.join("");
			wrapper_obj = _doc.getElementById(wrapper3);
			wrapper_obj.innerHTML=info3.join("");
			wrapper_obj = $("#"+dispid);
			wrapper_obj.removeClass("disp_n");
			wrapper_obj.addClass("disp_b");		
			//初始化全选按钮不选择
			temp = _doc.getElementById("print_all_1");
			temp.checked= true;
			temp = _doc.getElementById("print_all_2");
			temp.checked= true;	
			temp = _doc.getElementById("print_all");
			temp.checked= true;	
			_o.selectAll('print_item','print_all');	
			_doc.getElementById("bg").style.display ="block";
			_doc.getElementById('print_info').style.display = 'block';
		}//if(len >0)
		else
		{
			alert("data error!");
		}
		/*string*/ dispid = null,
		//政府公示信息
		/*string*/ wrapper1=null,
		/*object*/ wrapper_obj = null,
		/*array*/ info1  = [],
		//企业自主公式
		/*string*/ wrapper2=null,
		/*array*/ info2 = [],
		//其他
		/*string*/ wrapper3=null,
		/*array*/ info3 = [],
		//不显示的范围
		/*array*/ notscope =null,
		//是否全部显示
		/*boolean*/ isall =null,
		//显示模块总数
		/*array*/ scopedata = null,
		/*number*/ i = -1,
		/*number*/ len = -1,
		/*object*/ temp = null,
		/*string*/ value  = null,
		/*string*/ name = null,
		/*string*/ type = null,
		/*string*/ LETTER_GOV =null,
		/*string*/ LETTER_COM = null,
		/*string*/ LETTER_OTH = null,
		/*string*/ temp_label3 = null,
		/*string*/ temp_label = null,			
		/*boolean*/ iscon  = false,
		/*object*/ _doc = null,
		/*object*/ _o  = null;
	};
	if(!window["saicobj"])
	{
		window["saicobj"] = new SaicObj();
	}
})();